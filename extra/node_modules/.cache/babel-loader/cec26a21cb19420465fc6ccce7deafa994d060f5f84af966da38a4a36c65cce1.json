{"ast":null,"code":"var _jsxFileName = \"/Users/freddiemcnicholas/Desktop/FEWD-July/ga-fewd/extra/src/context/BudgetProvider.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useState } from \"react\";\nimport { v4 as uuidv4 } from 'uuid';\nimport useLocacalStorage from \"../hooks/useLocalStorage\";\n\n// [{\n//     id,\n//     name,\n//     max\n// }]\n\n// [\n//     {\n//         id,\n//         budgetId,\n//         amount,\n//         description\n//     }\n// ]\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BudgetContext = /*#__PURE__*/createContext();\nexport const UNCATEGORISED_BUDGET_ID = 'UNCATEGORISED';\nexport function useBudgets() {\n  _s();\n  return useContext(BudgetContext);\n}\n_s(useBudgets, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const BudgetsProvider = ({\n  children\n}) => {\n  _s2();\n  const [budgets, setBudgets] = useLocalStorage('budgets', []);\n  const [expenses, setExpenses] = useLocalStorage('expenses', []);\n  function getBudgetExpenses(budgetId) {\n    return expenses.filter(expense => expense.budgetId === budgetId);\n  }\n  function addExpense({\n    description,\n    amount,\n    budgetId\n  }) {\n    setExpenses(prevExpenses => {\n      return [...prevExpenses, {\n        id: uuidv4(),\n        description,\n        amount,\n        budgetId\n      }];\n    });\n  }\n  function addBudget({\n    name,\n    max\n  }) {\n    setBudgets(prevBudgets => {\n      if (prevBudgets.find(budget => budget.name === name)) {\n        return prevBudgets;\n      }\n      return [...prevBudgets, {\n        id: uuidv4(),\n        name,\n        max\n      }];\n    });\n  }\n  function deleteBudget({\n    id\n  }) {\n    setBudgets(prevBudgets => {\n      return prevBudgets.filter(budget => budget.id !== id);\n    });\n  }\n  function deleteExpense({\n    id\n  }) {\n    setExpenses(prevExpenses => {\n      return prevExpenses.filter(expense => expense.id !== id);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(BudgetContext.Provider, {\n    value: {\n      budgets,\n      expenses,\n      getBudgetExpenses,\n      addExpense,\n      addBudget,\n      deleteBudget,\n      deleteExpense\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n_s2(BudgetsProvider, \"J7E4d7guQZ/gp2cZLJi5v6QwLyA=\", true);\n_c = BudgetsProvider;\nvar _c;\n$RefreshReg$(_c, \"BudgetsProvider\");","map":{"version":3,"names":["createContext","useContext","useState","v4","uuidv4","useLocacalStorage","jsxDEV","_jsxDEV","BudgetContext","UNCATEGORISED_BUDGET_ID","useBudgets","_s","BudgetsProvider","children","_s2","budgets","setBudgets","useLocalStorage","expenses","setExpenses","getBudgetExpenses","budgetId","filter","expense","addExpense","description","amount","prevExpenses","id","addBudget","name","max","prevBudgets","find","budget","deleteBudget","deleteExpense","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/freddiemcnicholas/Desktop/FEWD-July/ga-fewd/extra/src/context/BudgetProvider.js"],"sourcesContent":["import { createContext, useContext, useState } from \"react\"\nimport { v4 as uuidv4 } from 'uuid'\nimport useLocacalStorage from \"../hooks/useLocalStorage\"\n\n// [{\n//     id,\n//     name,\n//     max\n// }]\n\n// [\n//     {\n//         id,\n//         budgetId,\n//         amount,\n//         description\n//     }\n// ]\n\nconst BudgetContext = createContext()\nexport const UNCATEGORISED_BUDGET_ID = 'UNCATEGORISED'\nexport function useBudgets() {\n    return useContext(BudgetContext)\n}\n\nexport const BudgetsProvider = ({children}) => {\n    const [budgets, setBudgets] = useLocalStorage('budgets', [])\n    const [expenses, setExpenses] = useLocalStorage('expenses', [])\n\n    function getBudgetExpenses(budgetId) {\n        return expenses.filter(expense => expense.budgetId === budgetId)\n    }\n    function addExpense({ description, amount, budgetId }) {\n        setExpenses( prevExpenses => {\n            return [...prevExpenses, { id: uuidv4(), description, amount, budgetId }]\n        } )\n    }\n    function addBudget({ name, max }) {\n        setBudgets(prevBudgets => {\n            if( prevBudgets.find(budget => budget.name === name) ) {\n                return prevBudgets\n            }\n            return [...prevBudgets, {id: uuidv4(), name, max}]\n        })\n    }\n\n    function deleteBudget( {id} ) {\n        setBudgets(prevBudgets => {\n            return prevBudgets.filter(budget => budget.id !== id)\n        })\n    }\n    function deleteExpense( {id} ) {\n        setExpenses(prevExpenses => {\n            return prevExpenses.filter(expense => expense.id !== id)\n        })\n    }\n    return (\n        <BudgetContext.Provider value={{\n            budgets,\n            expenses,\n            getBudgetExpenses,\n            addExpense,\n            addBudget,\n            deleteBudget,\n            deleteExpense\n        }}>{children}</BudgetContext.Provider>\n    )\n}\n"],"mappings":";;;AAAA,SAASA,aAAa,EAAEC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AAC3D,SAASC,EAAE,IAAIC,MAAM,QAAQ,MAAM;AACnC,OAAOC,iBAAiB,MAAM,0BAA0B;;AAExD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEA,MAAMC,aAAa,gBAAGR,aAAa,CAAC,CAAC;AACrC,OAAO,MAAMS,uBAAuB,GAAG,eAAe;AACtD,OAAO,SAASC,UAAUA,CAAA,EAAG;EAAAC,EAAA;EACzB,OAAOV,UAAU,CAACO,aAAa,CAAC;AACpC;AAACG,EAAA,CAFeD,UAAU;AAI1B,OAAO,MAAME,eAAe,GAAGA,CAAC;EAACC;AAAQ,CAAC,KAAK;EAAAC,GAAA;EAC3C,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGC,eAAe,CAAC,SAAS,EAAE,EAAE,CAAC;EAC5D,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGF,eAAe,CAAC,UAAU,EAAE,EAAE,CAAC;EAE/D,SAASG,iBAAiBA,CAACC,QAAQ,EAAE;IACjC,OAAOH,QAAQ,CAACI,MAAM,CAACC,OAAO,IAAIA,OAAO,CAACF,QAAQ,KAAKA,QAAQ,CAAC;EACpE;EACA,SAASG,UAAUA,CAAC;IAAEC,WAAW;IAAEC,MAAM;IAAEL;EAAS,CAAC,EAAE;IACnDF,WAAW,CAAEQ,YAAY,IAAI;MACzB,OAAO,CAAC,GAAGA,YAAY,EAAE;QAAEC,EAAE,EAAExB,MAAM,CAAC,CAAC;QAAEqB,WAAW;QAAEC,MAAM;QAAEL;MAAS,CAAC,CAAC;IAC7E,CAAE,CAAC;EACP;EACA,SAASQ,SAASA,CAAC;IAAEC,IAAI;IAAEC;EAAI,CAAC,EAAE;IAC9Bf,UAAU,CAACgB,WAAW,IAAI;MACtB,IAAIA,WAAW,CAACC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACJ,IAAI,KAAKA,IAAI,CAAC,EAAG;QACnD,OAAOE,WAAW;MACtB;MACA,OAAO,CAAC,GAAGA,WAAW,EAAE;QAACJ,EAAE,EAAExB,MAAM,CAAC,CAAC;QAAE0B,IAAI;QAAEC;MAAG,CAAC,CAAC;IACtD,CAAC,CAAC;EACN;EAEA,SAASI,YAAYA,CAAE;IAACP;EAAE,CAAC,EAAG;IAC1BZ,UAAU,CAACgB,WAAW,IAAI;MACtB,OAAOA,WAAW,CAACV,MAAM,CAACY,MAAM,IAAIA,MAAM,CAACN,EAAE,KAAKA,EAAE,CAAC;IACzD,CAAC,CAAC;EACN;EACA,SAASQ,aAAaA,CAAE;IAACR;EAAE,CAAC,EAAG;IAC3BT,WAAW,CAACQ,YAAY,IAAI;MACxB,OAAOA,YAAY,CAACL,MAAM,CAACC,OAAO,IAAIA,OAAO,CAACK,EAAE,KAAKA,EAAE,CAAC;IAC5D,CAAC,CAAC;EACN;EACA,oBACIrB,OAAA,CAACC,aAAa,CAAC6B,QAAQ;IAACC,KAAK,EAAE;MAC3BvB,OAAO;MACPG,QAAQ;MACRE,iBAAiB;MACjBI,UAAU;MACVK,SAAS;MACTM,YAAY;MACZC;IACJ,CAAE;IAAAvB,QAAA,EAAEA;EAAQ;IAAA0B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAyB,CAAC;AAE9C,CAAC;AAAA5B,GAAA,CA1CYF,eAAe;AAAA+B,EAAA,GAAf/B,eAAe;AAAA,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}